import{b as e,B as r,j as s,T as a,at as i,l}from"./mui-f67195f8.js";import{r as o}from"./vendor-71f819f8.js";import{c as m,a as t,u as d,o as n}from"./index.esm-ffee17e0.js";import{u}from"./index-a058ca40.js";import{z as p}from"./utils-6bbf63f7.js";import{a as c}from"./router-dd2b36d2.js";import"./firebase-a0f82ea0.js";const f=m().shape({displayName:t().required("Name is required"),email:t().email("Invalid email").required("Email is required"),password:t().min(6,"Minimum 6 characters").required("Password is required")}),h=({onSuccess:m})=>{var t,h,b;const{signup:y,currentUser:g}=u(),v=c(),{register:w,handleSubmit:x,formState:{errors:j,isSubmitting:N}}=d({resolver:n(f)});o.useEffect(()=>{g&&v("/dashboard")},[g,v]);return e(r,{component:"form",onSubmit:x(async e=>{try{await y(e.email,e.password,e.displayName),p.success("Account created successfully!"),m?m():v("/dashboard")}catch(r){p.error(r.message||"Sign-up failed")}}),sx:{display:"flex",flexDirection:"column",gap:2},children:[s(a,{variant:"h6",children:"Create Account"}),s(i,{label:"Full Name",...w("displayName"),error:!!j.displayName,helperText:null==(t=j.displayName)?void 0:t.message}),s(i,{label:"Email",...w("email"),error:!!j.email,helperText:null==(h=j.email)?void 0:h.message}),s(i,{label:"Password",type:"password",...w("password"),error:!!j.password,helperText:null==(b=j.password)?void 0:b.message}),s(l,{type:"submit",variant:"contained",disabled:N,children:"Sign Up"})]})};export{h as default};
